
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../troubleshooting/">
      
      
        <link rel="next" href="../usage-pages/deploy-rollback/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Usage - </title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="" class="md-header__button md-logo" aria-label="" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  z/OS Utility

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../downloads/" class="md-tabs__link">
        
  
    
  
  Downloads

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../overview/" class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../steps/" class="md-tabs__link">
        
  
    
  
  Steps

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../troubleshooting/" class="md-tabs__link">
        
  
    
  
  Troubleshooting

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Usage

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../usage-pages/deploy-rollback/" class="md-tabs__link">
          
  
  Usage pages

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="" class="md-nav__button md-logo" aria-label="" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    z/OS Utility
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../downloads/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloads
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../steps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Steps
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Usage
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#running-mvs-system-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Running MVS system commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-custom-properties-in-deployments" class="md-nav__link">
    <span class="md-ellipsis">
      Using custom properties in deployments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-data-sets-and-running-cics-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying data sets and running CICS commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-deploying-data-sets-and-running-cics-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Deploying data sets and running CICS commands
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-jcl-jobs-from-a-template" class="md-nav__link">
    <span class="md-ellipsis">
      Submitting JCL jobs from a template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#processing-multiple-data-sets-or-data-set-members" class="md-nav__link">
    <span class="md-ellipsis">
      Processing multiple data sets or data set members
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-hfs-files" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying HFS files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploying-by-using-the-job-monitor" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying by using the Job Monitor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-redundant-versions" class="md-nav__link">
    <span class="md-ellipsis">
      Managing redundant versions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-redundant-versions" class="md-nav__link">
    <span class="md-ellipsis">
      Remove Redundant Versions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#snapshots" class="md-nav__link">
    <span class="md-ellipsis">
      Snapshots
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ignoring-high-level-qualifiers" class="md-nav__link">
    <span class="md-ellipsis">
      Ignoring High-level qualifiers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mvs-component-template" class="md-nav__link">
    <span class="md-ellipsis">
      MVS component template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-processes" class="md-nav__link">
    <span class="md-ellipsis">
      Default processes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Component properties
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-properties" class="md-nav__link">
    <span class="md-ellipsis">
      Environment properties
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-a-jcl-job-and-then-checking-for-status" class="md-nav__link">
    <span class="md-ellipsis">
      Submitting a JCL job and then checking for status
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-submitting-a-jcl-job-and-then-checking-for-status" class="md-nav__link">
    <span class="md-ellipsis">
      Example: Submitting a JCL job and then checking for status
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Usage pages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Usage pages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage-pages/deploy-rollback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployment and Rollback for z/OS component version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage-pages/rollback-with-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rollback for z/OS component version with application template
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="usage">Usage</h1>
<p>The following pages provide usage information about this plug-in:</p>
<ul>
<li><a href="../usage-pages/deploy-rollback/#deployment-and-rollback-for-zos-component-version">Deployment and Rollback for z/OS component version</a></li>
<li><a href="../usage-pages/deploy-rollback/#deploy-a-component-version-to-zos-platform">Deploy a component version to z/OS platform</a><ul>
<li><a href="../usage-pages/deploy-rollback/#component-process-setup-for-deploying-component-version">Component process setup for deploying component version</a></li>
<li><a href="../usage-pages/deploy-rollback/#application-process-setup-for-deploying-component-version">Application process setup for deploying component version</a></li>
</ul>
</li>
<li><a href="../usage-pages/deploy-rollback/#rollback-a-component-version-from-zos-platform">Rollback a component version from z/OS platform</a><ul>
<li><a href="../usage-pages/deploy-rollback/#component-process-setup-for-rolling-back-a-component-version">Component process setup for rolling back a component version</a></li>
<li><a href="../usage-pages/deploy-rollback/#application-process-setup-for-rolling-back-a-component-version">Application process setup for rolling back a component version</a></li>
</ul>
</li>
<li><a href="../usage-pages/rollback-with-template/#rollback-for-zos-component-version-with-application-template">Rollback for z/OS component version with application template</a></li>
<li><a href="#deploying-by-using-the-job-monitor">Deploying by using the Job Monitor</a></li>
<li><a href="#submitting-a-jcl-job-and-then-checking-for-status">Submitting a JCL job and then checking for status</a></li>
<li><a href="#submitting-jcl-jobs-from-a-template">Submitting a JCL job from a template</a></li>
<li><a href="#mvs-component-template">MVS component template</a></li>
<li><a href="#managing-redundant-versions">Managing redundant versions</a></li>
<li><a href="#remove-redundant-versions">Remove Redundant Versions</a></li>
<li><a href="#ignoring-high-level-qualifiers">Ignoring High Level Qualifiers</a></li>
<li><a href="#running-mvs-system-commands">Running MVS system commands</a></li>
<li><a href="#using-custom-properties-in-deployments">Using custom properties in deployments</a></li>
<li><a href="#deploying-data-sets-and-running-cics-commands">Deploying data sets and running CICS commands</a></li>
<li><a href="#deploying-hfs-files">Deploying HFS files</a></li>
</ul>
<h2 id="running-mvs-system-commands">Running MVS system commands</h2>
<p>The Run MVS Command step uses the Java programming interface with the System Display and Search Facility (SDSF) to run MVS system commands on the agent. To use the Run MVS Command step, you must work with your system administrator to configure security properly for the agent user account. In the following examples, protecting resources by setting the universal access authority (UACC) to NONE might prevent all users, except users with explicit permission, from accessing the protected command.</p>
<p>The agent user account must be authorized to use SDSF from Java and must be authorized to issue MVS slash (/) commands from SDSF. MVS commands are protected by defining a resource name in the SDSF class, as shown in the following table.</p>
<table>
<thead>
<tr>
<th>Resource name</th>
<th>Class</th>
<th>Access</th>
</tr>
</thead>
<tbody>
<tr>
<td>ISFOPER.SYSTEM</td>
<td>SDSF</td>
<td>READ</td>
</tr>
</tbody>
</table>
<p>If the SDSF class is not activated yet, use following command to activate itfirst. SETROPTS CLASSACT(SDSF)</p>
<p>To use the Resource Access Control Facility (RACF) to authorize the use of an MVS command, issue commands similar to the commands in the following examples: RDEFINE SDSF ISFOPER.SYSTEM UACC(NONE) PERMIT ISFOPER.SYSTEM CLASS(SDSF) ID(userid or groupid) ACCESS(READ)</p>
<p>Additionally, the agent user account must be authorized to use the ULOG command to view command responses. MVS commands can return responses to the user console and to the user log (ULOG). The ULOG command is protected a resource in the SDSF class, as shown in the following table.</p>
<table>
<thead>
<tr>
<th>Resource name</th>
<th>Class</th>
<th>Access</th>
</tr>
</thead>
<tbody>
<tr>
<td>ISFCMD.ODSP.ULOG.<em>jesx</em></td>
<td>SDSF</td>
<td>READ</td>
</tr>
</tbody>
</table>
<p>To use the Resource Access Control Facility (RACF) to authorize the use of the ULOG command, issue commands similar to the commands in the following example. RDEFINE SDSF ISFCMD.ODSP.ULOG.<em>UACC(NONE) PERMIT ISFCMD.ODSP.ULOG.</em> CLASS(SDSF) ID(userid or groupid) ACCESS(READ)</p>
<p>Run following command to make your changes to profiles effective. SETROPTS RACLIST(SDSF) REFRESH</p>
<p>For more information on setting up SDSF security, see the documentation available at <a href="http://www-03.ibm.com/systems/z/os/zos/features/sdsf/isflib.html" title="System Display and Search Facility">System Display and Search Facility</a>.</p>
<p>The following settings show an example of how to configure the Run MVS Command step.</p>
<p><img alt="Configure Run MVS command step" src="../media/zos_mvs_2.png?resize=640%2C189" /></p>
<h2 id="using-custom-properties-in-deployments">Using custom properties in deployments</h2>
<p>You can add custom properties to data sets or to members when you create component versions. The custom properties can then be used by the Generate Artifact Information step to generate commands or other input that can be used by other subsequent steps in the process.</p>
<p>Before you can use the Generate Artifact Information step, a component version must be deployed by using the Deploy Data Sets step.</p>
<p>In the following example, a custom property is used to generate IBM DB2 database commands.</p>
<p>The following shiplist file shows the DB2 plan name as a custom property to the DBRM data set:</p>
<pre><code class="language-yaml">&lt;manifest type=&quot;MANIFEST\_SHIPLIST&quot;&gt;
&lt;container name=&quot;TONY.MORT.DEV.LOAD&quot; type=&quot;PDS&quot; deployType=&quot;CICS\_LOAD&quot;&gt;
&lt;resource name=&quot;JKECMORT&quot; type=&quot;PDSMember&quot;/&gt;
&lt;/container&gt;
&lt;container name=&quot;TONY.MORT.DEV.DBRM&quot; type=&quot;PDS&quot; deployType=&quot;DBRM&quot;&gt;
**&lt;property name=&quot;plan&quot; value=&quot;TONY&quot;/&gt;**
&lt;resource name=&quot;\*&quot; type=&quot;PDSMember&quot;/&gt;
&lt;/container&gt;
&lt;/manifest&gt;
</code></pre>
<p>When you create a component version by using this shiplist file, the custom property is visible in the version artifacts view. Properties added to a data set are also visible to all members of the data set.</p>
<p><a href="../media/zos_props_1.png"><img alt="zos_props_1" src="../media/zos_props_1.png" /></a></p>
<p>In the following deployment process, the FTP Artifacts and Deploy Data Sets steps deploy the members to the target system. The Generate Artifact Information step generates TSO commands that are then used to run the REXX BIND commands. The generated commands contain the DB2 plan name from the custom property. The generated commands are then run by the Run TSO or ISPF Command.</p>
<p><img alt="" src="../media/zos_props_2.png?resize=640%2C189" /></p>
<p>The Generate Artifact Information step uses the following settings:</p>
<p><a href="../media/zos_props_3.png"><img alt="zos_props_3" src="../media/zos_props_3.png" /></a></p>
<p>Use <code>${*propertyName*}</code> to refer to a custom property. In the previous example, TEST.REXX(BIND) is a REXX script that accepts plan, library, and member values as parameters and then runs the DB2 DSN BIND command.</p>
<p>The Generate Artifact Information step generates the following output properties. In this example, the <strong>text</strong> property contains the generated TSO commands.</p>
<p><a href="../media/zos_props_4.png"><img alt="zos_props_4" src="../media/zos_props_4.png" /></a></p>
<p>In this example, the Run TSO or ISPF Command step uses the following settings:</p>
<p><img alt="" src="../media/zos_props_5.png?resize=640%2C189" /></p>
<h2 id="deploying-data-sets-and-running-cics-commands">Deploying data sets and running CICS commands</h2>
<h2 id="example-deploying-data-sets-and-running-cics-commands">Example: Deploying data sets and running CICS commands</h2>
<p>In this process example, the z/OS data sets must be in the component. Also, the environment contains agents that are running z/OS. In addition to the z/OS Utility plug-in, the CICS TS plug-in must be installed. The process runs the following steps in order:</p>
<ol>
<li>The <a href="https://urbancode.github.io/IBM-UCx-PLUGIN-DOCS/UCD/zos-deploy/steps.html">Copy Artifacts</a> step loads the artifacts that make up the z/OS component version.</li>
<li>The <a href="https://urbancode.github.io/IBM-UCx-PLUGIN-DOCS/UCD/zos-deploy/steps.html">Deploy Data Sets</a> step deploys the component version to z/OS.</li>
<li>The <a href="https://urbancode.github.io/IBM-UCx-PLUGIN-DOCS/UCD/zos-deploy/steps.html">Generate Artifact Information</a> step generates a list of CICS members.</li>
<li>The <a href="https://community.ibm.com/community/user/wasdevops/blogs/ibm-ibm-devops-expert/2022/04/27/steps-to-install-ucd-702-agent-on-zos-and-ucd-serv">NEWCOPY Programs</a> step, in the CICS TS plug-in, runs the NEWCOPY command on the members.</li>
</ol>
<p><a href="../media/zos_cics_1.png"><img alt="zos_cics_1" src="../media/zos_cics_1.png" /></a></p>
<p>In this example, the Generate Artifact Information step is configured with the following properties:</p>
<p><img alt="" src="../media/zos_cics_2.png?resize=640%2C189" /></p>
<p>The output of the Generate Artifact Information step looks similar to the following properties:</p>
<p><img alt="" src="../media/zos_cics_3.png?resize=640%2C189" /></p>
<p>In this example, the NEWCOPY Programs step is configured with the following properties:</p>
<p><a href="../media/zos_cics_4.png"><img alt="zos_cics_4" src="../media/zos_cics_4.png" /></a></p>
<p>The execution log of the NEWCOPY Programs step looks similar to the following output:</p>
<pre><code class="language-text">PerformNEWCOPY:

Info:NEWCOPY &quot;JKEMLIST&quot; succeeded.

Info:NEWCOPY &quot;JKEMORT&quot; succeeded.

Info:NEWCOPY &quot;JKEBXXC2&quot; succeeded.

Info:NEWCOPY &quot;JKEBXXS1&quot; succeeded.

Info:NEWCOPY &quot;JKECSMRD&quot; succeeded.

Info:NEWCOPY &quot;JKMXXGB&quot; succeeded.

Info:NEWCOPY &quot;JKEMLIS&quot; succeeded.

Info:NEWCOPY &quot;JKECSMRT&quot; succeeded.

Info:NEWCOPY &quot;JKMXXGA&quot; succeeded.

Info:NEWCOPY &quot;JKECMAIN&quot; succeeded.

Info:NEWCOPY &quot;JKEBXXC1&quot; succeeded.

Info:NEWCOPY &quot;JKEMLISD&quot; succeeded.

Info:NEWCOPY &quot;JKEMPMT&quot; succeeded.

Info:NEWCOPY &quot;JKECMORT&quot; succeeded.

Info:NEWCOPY &quot;JKEMAIN&quot; succeeded.

Summary:15 NEWCOPY request(s) succeeded, 0 NEWCOPY request(s) failed.
</code></pre>
<h2 id="submitting-jcl-jobs-from-a-template">Submitting JCL jobs from a template</h2>
<p>To submit a JCL job from a template, use the <a href="https://urbancode.github.io/IBM-UCx-PLUGIN-DOCS/UCD/zos-deploy/steps.html#submit_job">Submit Job</a> step, and then set up the step properties similar to the following example:</p>
<p><a href="../media/submit_job_template.gif"><img alt="submit_job_template" src="../media/submit_job_template.gif" /></a></p>
<p>To submit multiple jobs from the same template, specify multiple sets of rules in the <strong>Replace Tokens For Each Job</strong> field. Separate rule sets with a new line that contains only two forward slashes (//). The status of the Submit Job step is success if all of the jobs run to completion, and fail if any of the jobs fail. Multiple jobs run in sequence, and use the same settings for job output and status checking. If you select <strong>Stop On Fail</strong>, no subsequent jobs are run after a job fails. To submit multiple jobs that check the existence of multiple data set members, set up the step properties similar to the following example:</p>
<p><a href="../media/zos_multiplejobs.png"><img alt="zos_multiplejobs" src="../media/zos_multiplejobs.png" /></a></p>
<p>In the previous example, three jobs are submitted because three rule sets are specified in the <strong>Replace Tokens For Each Job</strong> field. The three jobs check the JKEMPMT, JKECMORT, and JKEMLIST members in that order. The rules that are specified in the <strong>Replace Tokens</strong> field are used for all jobs. Because <strong>Stop On Fail</strong> is selected, if any job fails no subsequent jobs are submitted. Finally, the <strong>Max Return Code</strong> field is set to 0 so that any return code greater than 0 is considered a job failure. For example, a return code of 4 from the LISTDS command, which indicates that a member name was not found, is considered a job failure.</p>
<h2 id="processing-multiple-data-sets-or-data-set-members">Processing multiple data sets or data set members</h2>
<p>Use the Generate Artifact Information step to process each data set or data set member in a version. In the following example, the process verifies that data set members are deployed.</p>
<p><a href="../media/zos_multipleproc.png"><img alt="zos_multipleproc" src="../media/zos_multipleproc.png" /></a></p>
<p>The Generate Artifact Information step uses the following settings:</p>
<p><a href="../media/zos_genjobparams.png"><img alt="zos_genjobparams" src="../media/zos_genjobparams.png" /></a></p>
<p>The Submit Job step uses the following settings:</p>
<p><a href="../media/zos_check.png"><img alt="zos_check" src="../media/zos_check.png" /></a></p>
<h2 id="deploying-hfs-files">Deploying HFS files</h2>
<p>A component version of HFS files can be deployed in either old format or new format of HFS directory mapping. In the old format of HFS directory mapping, it accepts only the target directory as input and during deployment, the container directories are created, and files are moved to the respective container. Mapping is in the below format<code>Target-Directory-path</code>Whereas the new format of HFS directory mapping, follows the same rule as for deploying the MVS Datasets. The mapping may contain multiple lines with each line in the below format
<code>Source-Container-Name, Target-Directory-path</code></p>
<p>On contrary to old format the deployment with new format does not create a sub-directory of source container while moving to target directory.</p>
<h2 id="deploying-by-using-the-job-monitor">Deploying by using the Job Monitor</h2>
<p>Refer <a href="https://www.ibm.com/docs/en/urbancode-deploy/7.2.2?topic=SS4GSP_7.2.2/com.ibm.udeploy.install.doc/topics/zos_using_job_monitor.html">Deploying by using the Job Monitor</a> for more details</p>
<h2 id="managing-redundant-versions">Managing redundant versions</h2>
<p>Redundant versions are incremental versions that are replaced by one or more subsequent incremental versions. In the following example, when Version 2 is deployed Version 1 becomes a redundant version, because all artifacts that are deployed with Version 1 are replaced by Version 2.</p>
<p><a href="../media/redundant_versions.gif"><img alt="redundant_versions" src="../media/redundant_versions.gif" /></a></p>
<h2 id="remove-redundant-versions">Remove Redundant Versions</h2>
<p>The <strong>Remove Redundant Versions</strong> plug-in step removes redundant versions from the inventory. On zOS USS, it deletes the redundant version's directory and its contents that was created when the version was deployed.</p>
<h2 id="snapshots">Snapshots</h2>
<p>Redundant versions are excluded when you create a snapshot. This exclusion prevents unnecessary promotion of incremental versions to subsequent environments. To include redundant versions in a snapshot, edit the snapshot to add the redundant versions.</p>
<h2 id="ignoring-high-level-qualifiers">Ignoring High-level qualifiers</h2>
<p>Set the <strong>High Level Qualifier Length</strong> value in the component configuration to ignore high-level qualifiers during redundant version calculations and risky rollback checking.</p>
<p>For example, For a z/OS component version lets assume datasets are created as <strong>BUILD.DEV.REL100.COBOL</strong>, the third qualifier <strong>REL100</strong> changes for every new release.
For redundant versions calculation and prevent risky rollback, set <strong>High Level Qualifier Length</strong> value to <strong>3</strong>. This is to ignore the first <strong>3</strong> High level qualifiers of the dataset.</p>
<h2 id="mvs-component-template">MVS component template</h2>
<p>The z/OS Utility plug-in includes the MVSTEMPLATE component template. The template contains default processes, which can be used directly. The template also lists the component properties and environment properties that that must be set to run z/OS deployments.</p>
<h2 id="default-processes">Default processes</h2>
<table>
<thead>
<tr>
<th>Step</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Deploy</td>
<td>Deploy data sets. Version artifacts are fetched from the CodeStation repository on the z/OS system.</td>
</tr>
<tr>
<td>Deploy get artifacts using FTP</td>
<td>Deploy data sets. Version artifacts are fetched from the Codestation repository by using FTP.</td>
</tr>
<tr>
<td>Remove all versions</td>
<td>Remove all versions in an environment, including the backup created during version deployment. Use this process to start a new round of development with a clean environment. Audit history is available even if versions were removed from the environment.</td>
</tr>
<tr>
<td>Remove redundant versions</td>
<td>Remove redundant versions in an environment. Redundant versions are versions that are replaced completely by versions that are deployed later.</td>
</tr>
<tr>
<td>Remove redundant versions with manual verification</td>
<td>Remove redundant versions in an environment. Redundant versions are versions that are replaced completely by versions that are deployed later.</td>
</tr>
<tr>
<td>Sample JCL submission process</td>
<td>Model JCL submission on the two types of usage in this sample.</td>
</tr>
<tr>
<td>Uninstall</td>
<td>Uninstall a version and restore the backup data sets.</td>
</tr>
</tbody>
</table>
<h2 id="component-properties">Component properties</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ucd.repository.location</td>
<td>true</td>
<td>The location of the repository where the z/OS deployment tools store artifacts.</td>
</tr>
<tr>
<td>ucd.repository.host</td>
<td>false</td>
<td>Host name of the FTP server from which to get version artifacts.</td>
</tr>
<tr>
<td>ucd.repository.user</td>
<td>false</td>
<td>FTP user name.</td>
</tr>
<tr>
<td>ucd.repository.password</td>
<td>false</td>
<td>FTP password</td>
</tr>
</tbody>
</table>
<h2 id="environment-properties">Environment properties</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>deploy.env.pds.mapping</td>
<td>true</td>
<td>The PDS packages, and the locations to deploy them in the restore mapping table. Each line is a mapping rule with the format of From PDS,To PDS. The value can be over-ridden by a property with higher order of precedence: for example, an agent property or resource property.</td>
</tr>
<tr>
<td>jes.host</td>
<td>false</td>
<td>Host name of the job server. Use localhost unless you need to submit the job to another z/OS system.</td>
</tr>
<tr>
<td>jes.user</td>
<td>false</td>
<td>User ID for the JES subsystem.</td>
</tr>
<tr>
<td>jes.password</td>
<td>false</td>
<td>Password for the JES subsystem.</td>
</tr>
<tr>
<td>jes.monitor.port</td>
<td>false</td>
<td>JES Job Monitor port (1-65535). The default port is 6715.</td>
</tr>
<tr>
<td>BUZ_DEPLOY_BASE</td>
<td>false</td>
<td>The base location to store deployment results and backups for rollback. Each agent provides a default value. If multiple environments use the same agent, this value can be over-ridden by a property with higher order of precedence: for example, an agent property or resource property.</td>
</tr>
</tbody>
</table>
<h2 id="submitting-a-jcl-job-and-then-checking-for-status">Submitting a JCL job and then checking for status</h2>
<h2 id="example-submitting-a-jcl-job-and-then-checking-for-status">Example: Submitting a JCL job and then checking for status</h2>
<p>The process runs the following steps in order:</p>
<ol>
<li>The <a href="https://urbancode.github.io/IBM-UCx-PLUGIN-DOCS/UCD/zos-deploy/steps.html">Submit Job</a> step starts the JCL job.</li>
<li>The Shell step represents other processing steps to take while the JCL job runs.</li>
<li>The <a href="https://urbancode.github.io/IBM-UCx-PLUGIN-DOCS/UCD/zos-deploy/steps.html">Wait For Job</a> step stops processing until the JCL job completes.</li>
</ol>
<p><a href="../media/submit_job_wait.gif"><img alt="submit_job_wait" src="../media/submit_job_wait.gif" /></a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.tabs", "navigation.tabs.sticky", "toc.integrate"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>